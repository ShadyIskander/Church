<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, #f0f8ff, #d0e7ff);
            color: #333;
            margin: 0;
            padding: 0;
        }
        h1 {
            text-align: center;
            color: #0056b3;
            margin-top: 20px;
        }
        .container {
            max-width: 450px;
            margin: 20px auto;
            background: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        .container label, .container input {
            display: block;
            width: 100%;
            margin-bottom: 10px;
        }
        .container input {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .container button {
            width: 100%;
            padding: 10px;
            background-color: #0056b3;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
        }
        .container button:hover {
            background-color: #003d80;
        }
        #login-message {
            text-align: center;
            font-weight: bold;
            margin-top: 10px;
        }
        .dashboard {
            display: none;
            margin: 20px;
        }
        .dashboard h2 {
            text-align: center;
            color: #0056b3;
        }
        .progress-container {
            display: grid;
            gap: 20px;
        }
        .progress-card {
            background: #e6f3ff;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }
        .progress-card strong {
            display: block;
            font-size: 18px;
            margin-bottom: 10px;
            color: #003d80;
        }
        .progress-card span {
            display: block;
            margin-left: 10px;
            position: relative;
            padding-left: 15px;
        }
        .progress-card span::before {
            content: "•";
            position: absolute;
            left: 0;
            top: 0;
            color: #0056b3;
        }
        .progress-bar {
            height: 20px;
            width: 100%;
            background-color: #ddd;
            border-radius: 10px;
            margin: 10px 0;
        }
        .progress-bar-fill {
            height: 100%;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <h1>Admin Login</h1>
    <div class="container">
        <p><strong>Login to access the dashboard:</strong></p>
        <label for="admin-name">Username:</label>
        <input type="text" id="admin-name" placeholder="Enter username | أدخل اسم المستخدم">
        <label for="admin-password">Password :</label>
        <input type="password" id="admin-password" placeholder="Enter password | أدخل كلمة المرور">
        <button onclick="authenticate()">Login </button>
        <p id="login-message" style="color: red;"></p>
    </div>

    <div class="dashboard" id="admin-dashboard">
        <h2>Progress Overview </h2>
        <div id="progress-container"></div>
    </div>

    <script>
        const adminUsername = "jesus"; // Case-insensitive
        const adminPassword = "1234";

        const chapters = [
            "١. مبادئ التلمذة الدرس الاول",
            "٢. مبادئ التلمذة الدرس الثاني",
            "٣. شخصية الله الدرس الاول",
            "٤. شخصية الله الدرس الثاني",
            "٥. شخصية الله الدرس الثالث",
            "٦. شخصية الله الدرس الرابع",
            "٧. شخصية الله الدرس الخامس",
            "٨. أزمة الابوة وتأثيرها على فهمنا لله كأب سماوي",
            "٩. ترويض العادات اليومية",
            "١٠. الملل",
            "١١. تيموثاوس الأولى الدرس الاول",
            "١٢. تيموثاوس الأولى الدرس الثاني",
            "١٣. تيموثاوس الأولى الدرس الثالث",
            "١٤. تيموثاوس الأولى الدرس الرابع",
            "١٥. تيموثاوس الأولى الدرس الخامس",
            "١٦. تيموثاوس الأولى الدرس السادس",
            "١٧. سلطان الله ومسؤولية الإنسان الدرس الاول",
            "١٨. سلطان الله ومسؤولية الإنسان الدرس الثاني",
            "١٩. سلطان الله ومسؤولية الإنسان الدرس الثالث",
            "٢٠. سلطان الله ومسؤولية الإنسان الدرس الرابع",
            "٢١. ليه مش عارف اتغير",
            "٢٢. المؤمن الحقيقي والمؤمن المزيف",
            "٢٣. تيموثاوس الثانية الدرس الاول",
            "٢٤. تيموثاوس الثانية الدرس الثاني",
            "٢٥. تيموثاوس الثانية الدرس الثالث",
            "٢٦. تيموثاوس الثانية الدرس الرابع"
        ];

        function getUserProgress() {
            return JSON.parse(localStorage.getItem("userProgress")) || {
                john: [true, false, true, false, false, true, true, false, false, true, false, true, false, false, false, false, false, true, false, true, false, true, true, true, false, false],
                mary: [false, true, false, true, true, false, true, true, false, false, false, false, false, false, false, false, false, true, true, false, false, false, false, false, false, false],
                peter: [true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true]
            };
        }

        function authenticate() {
            const name = document.getElementById("admin-name").value.toLowerCase();
            const password = document.getElementById("admin-password").value;
            const message = document.getElementById("login-message");
            const dashboard = document.getElementById("admin-dashboard");
            const progressContainer = document.getElementById("progress-container");

            if (name === adminUsername && password === adminPassword) {
                message.textContent = "";
                dashboard.style.display = "block";
                loadProgress(progressContainer);
            } else {
                message.textContent = "Invalid credentials | بيانات غير صحيحة. حاول مرة أخرى.";
                dashboard.style.display = "none";
            }
        }

        function loadProgress(container) {
            const userProgress = getUserProgress();
            container.innerHTML = "";
            for (const user in userProgress) {
                const userDiv = document.createElement("div");
                userDiv.className = "progress-card";

                const completedChapters = userProgress[user].filter(c => c).length;
                const progressPercentage = (completedChapters / chapters.length) * 100;

                let progressColor = "#ff4d4d";
                if (progressPercentage >= 70) progressColor = "#4CAF50";
                else if (progressPercentage >= 30) progressColor = "#FFEB3B";

                userDiv.innerHTML = `
                    <strong>${user.charAt(0).toUpperCase() + user.slice(1)}</strong>
                    ${userProgress[user].map((c, i) => `<span>${chapters[i]}: ${c ? "✅" : "⏳"}</span>`).join("")}
                    <div class="progress-bar">
                        <div class="progress-bar-fill" style="width: ${progressPercentage}%; background-color: ${progressColor};"></div>
                    </div>
                    <span>Progress: ${Math.round(progressPercentage)}% | التقدم: ${Math.round(progressPercentage)}%</span>
                `;
                container.appendChild(userDiv);
            }
        }
    </script>
</body>
</html>
