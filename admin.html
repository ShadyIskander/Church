<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ffddc1, #ffabab, #ff9a8b, #ff8b94, #f7c4d3);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
            overflow: hidden;
        }
        h1 {
            font-family: 'Georgia', serif;
            color: #6a1b9a;
            text-align: center;
            font-size: 3rem;
            margin-bottom: 40px;
            text-transform: uppercase;
        }
        .container {
            max-width: 400px;
            background: #ffffff;
            padding: 30px 40px;
            border-radius: 15px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .container label {
            display: block;
            font-size: 1.2rem;
            margin-bottom: 10px;
            font-weight: bold;
            color: #6a1b9a;
        }
        .container input {
            width: 100%;
            padding: 12px;
            font-size: 1.1rem;
            margin-bottom: 20px;
            border: 2px solid #6a1b9a;
            border-radius: 8px;
            outline: none;
            background: #f9f9f9;
            transition: all 0.3s ease;
        }
        .container input:focus {
            border-color: #4caf50;
            box-shadow: 0 0 5px rgba(76, 175, 80, 0.8);
        }
        .container button {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            background-color: #6a1b9a;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .container button:hover {
            background-color: #9c27b0;
        }
        #login-message {
            margin-top: 20px;
            font-weight: bold;
            color: #ff5252;
        }
        .dashboard {
            display: none;
            background: #ffffff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            max-height: 75vh;
            overflow-y: auto;
            width: 100%;
            max-width: 1000px;
        }
        .dashboard h2 {
            color: #6a1b9a;
            font-size: 2rem;
            text-align: center;
            margin-bottom: 20px;
        }
        .table-container {
            display: block;
            max-height: 500px;
            overflow-y: auto;
            padding-right: 15px;
            margin-top: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 1rem;
            text-align: center;
        }
        th, td {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        th {
            background-color: #f7c4d3;
            color: #6a1b9a;
        }
        td {
            background-color: #fff;
        }
        .progress-bar {
            height: 12px;
            width: 100%;
            background-color: #ddd;
            border-radius: 10px;
            margin: 10px 0;
        }
        .progress-bar-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.4s ease;
        }
        .footer {
            text-align: center;
            margin-top: 20px;
            font-size: 1rem;
            color: #6a1b9a;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Admin Login</h1>
        <label for="admin-name">Username:</label>
        <input type="text" id="admin-name" placeholder="Enter username">
        <label for="admin-password">Password:</label>
        <input type="password" id="admin-password" placeholder="Enter password">
        <button onclick="authenticate()">Login</button>
        <p id="login-message"></p>
    </div>

    <div class="dashboard" id="admin-dashboard">
        <h2>Progress Overview</h2>
        <div id="progress-container" class="table-container"></div>
    </div>

    <div class="footer">
        <p>&copy; 2025 KDEC Admin Panel</p>
    </div>

    <script>
        const adminUsername = "jesus"; // Case-insensitive
        const adminPassword = "1234";

        const chapters = [
            "١. مبادئ التلمذة الدرس الاول",
            "٢. مبادئ التلمذة الدرس الثاني",
            "٣. شخصية الله الدرس الاول",
            "٤. شخصية الله الدرس الثاني",
            "٥. شخصية الله الدرس الثالث",
            "٦. شخصية الله الدرس الرابع",
            "٧. شخصية الله الدرس الخامس",
            "٨. أزمة الابوة وتأثيرها على فهمنا لله كأب سماوي",
            "٩. ترويض العادات اليومية",
            "١٠. الملل",
            "١١. تيموثاوس الأولى الدرس الاول",
            "١٢. تيموثاوس الأولى الدرس الثاني",
            "١٣. تيموثاوس الأولى الدرس الثالث",
            "١٤. تيموثاوس الأولى الدرس الرابع",
            "١٥. تيموثاوس الأولى الدرس الخامس",
            "١٦. تيموثاوس الأولى الدرس السادس",
            "١٧. سلطان الله ومسؤولية الإنسان الدرس الاول",
            "١٨. سلطان الله ومسؤولية الإنسان الدرس الثاني",
            "١٩. سلطان الله ومسؤولية الإنسان الدرس الثالث",
            "٢٠. سلطان الله ومسؤولية الإنسان الدرس الرابع",
            "٢١. ليه مش عارف اتغير",
            "٢٢. المؤمن الحقيقي والمؤمن المزيف",
            "٢٣. تيموثاوس الثانية الدرس الاول",
            "٢٤. تيموثاوس الثانية الدرس الثاني",
            "٢٥. تيموثاوس الثانية الدرس الثالث",
            "٢٦. تيموثاوس الثانية الدرس الرابع"
        ];

        function getUserProgress() {
            return JSON.parse(localStorage.getItem("userProgress")) || {
                john: [true, false, true, false, false, true, true, false, false, true, false, true, false, false, false, false, false, true, false, true, false, true, true, true, false, false],
                mary: [false, true, false, true, true, false, true, true, false, false, false, false, false, false, false, false, false, true, true, false, false, false, false, false, false, false],
                peter: [true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true]
            };
        }

        function authenticate() {
            const name = document.getElementById("admin-name").value.toLowerCase();
            const password = document.getElementById("admin-password").value;
            const message = document.getElementById("login-message");
            const dashboard = document.getElementById("admin-dashboard");
            const progressContainer = document.getElementById("progress-container");

            if (name === adminUsername && password === adminPassword) {
                message.textContent = "";
                dashboard.style.display = "block";
                loadProgress(progressContainer);
            } else {
                message.textContent = "Invalid credentials | بيانات غير صحيحة. حاول مرة أخرى.";
                dashboard.style.display = "none";
            }
        }

        function loadProgress(container) {
            const userProgress = getUserProgress();
            container.innerHTML = "";

            // Create table structure
            const table = document.createElement("table");
            const header = table.createTHead();
            const headerRow = header.insertRow();
            headerRow.innerHTML = "<th>User</th>" + chapters.map(chapter => `<th>${chapter}</th>`).join("");

            const body = table.createTBody();

            for (const user in userProgress) {
                const row = body.insertRow();
                row.insertCell(0).textContent = user.charAt(0).toUpperCase() + user.slice(1);
                
                userProgress[user].forEach(c => {
                    const cell = row.insertCell();
                    cell.textContent = c ? "✅" : "⏳";
                    cell.style.color = c ? "#4caf50" : "#fbc02d";
                });
            }

            container.appendChild(table);
        }
    </script>
</body>
</html>
